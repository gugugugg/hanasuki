# -*- coding: utf-8 -*-
# =================================================================
# Project: Hanasuki (èŠ±å¥½ã) AI Kernel - HERO-A+ Edition
# Version: Beta 1.1
# License: GNU General Public License v3 (GPLv3)
# Copyright (c) 2026 lovesang. All Rights Reserved.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License.
#
# [MISSION]: ç»Ÿä¸€ç®¡ç† Hanasuki çš„åŠ¨åŠ›å‚æ•°ï¼Œå®ç°ç¯å¢ƒè‡ªé€‚åº”æï¼ğŸŒ¸
# =================================================================

# --- [SYSTEM]: æ ¸å¿ƒå…ƒæ•°æ®æ ---
system:
  name: "Hanasuki"      # é¡¹ç›®ä»£å·ï¼šèŠ±å¥½ã
  version: "11.5.0"     # å†…éƒ¨é€»è¾‘ç‰ˆæœ¬å·
  author: "lovesang"    # å¼€å‘è€…ç½²å

# --- [MODEL]: æ¨ç†å¼•æ“ä¸æ˜¾å­˜ Profile é…ç½®æ ---
# model:
  backend: "llama_cpp"  # æ¨ç†åç«¯ï¼Œé»˜è®¤ä½¿ç”¨é«˜æ€§èƒ½çš„ llama-cpp-python
  
  # [PATH]: æ ¸å¿ƒæƒé‡æ–‡ä»¶è·¯å¾„æã€‚
  # é‡‡ç”¨ç›¸å¯¹è·¯å¾„ç¡®ä¿é¡¹ç›®åœ¨ä¸åŒè®¾å¤‡é—´çš„ç‰©ç†å¯ç§»æ¤æ€§æã€‚
  path: "models/Josiefied-Qwen3-8B-abliterated-v1-q4_k_m.gguf"
  
  # [PROFILE_NORMAL]: æ—¥å¸¸äº¤äº’æ¨¡å¼ã€‚
  # é’ˆå¯¹ 8GB æ˜¾å­˜ä¼˜åŒ–ï¼Œå¹³è¡¡å“åº”é€Ÿåº¦ä¸æ˜¾å­˜å ç”¨æã€‚
  profile_normal:
    n_gpu_layers: -1    # -1 è¡¨ç¤ºå°†æ‰€æœ‰æ¨¡å‹å±‚å¸è½½è‡³ GPU åŠ é€Ÿæ
    n_ctx: 8192         # æ—¥å¸¸ä¸Šä¸‹æ–‡é•¿åº¦å®šä¸º 8kï¼Œç¡®ä¿æ˜¾å­˜ä½™é‡å……è¶³
    flash_attn: true    # å¼€å¯ Flash Attention æ˜¾è‘—é™ä½é•¿æ–‡æœ¬æ—¶çš„æ˜¾å­˜å‹åŠ›æ
  
  # [PROFILE_LEARNING]: æ·±åº¦è‡ªç ”æ¨¡å¼ã€‚
  # è‡ªåŠ¨åˆ‡æ¢è‡³é•¿ä¸Šä¸‹æ–‡ï¼Œä¸º ACLA ç®—æ³•æä¾›æ›´å¹¿é˜”çš„æ£€ç´¢çª—å£æã€‚
  profile_learning:
    n_gpu_layers: -1    # ä¿æŒå…¨æ˜¾å­˜åŠ é€Ÿ
    n_ctx: 16384        # è‡ªç ”æ¨¡å¼ä¸‹æ‰©å±•è‡³ 16k ä¸Šä¸‹æ–‡ï¼Œé€šè¿‡ 4-bit KV Cache é‡åŒ–ç»´æŒç¨³å®š
    flash_attn: true    # å¿…é¡»å¼€å¯ä»¥æ”¯æ’‘é•¿æ–‡æœ¬è®¡ç®—

  temperature: 0.7      # é‡‡æ ·æ¸©åº¦ï¼Œ0.7 èƒ½åœ¨å­¦æœ¯ä¸¥è°¨æ€§ä¸ç®¡å®¶çµåŠ¨æ€§é—´å–å¾—å®Œç¾å¹³è¡¡æ

# --- [MODULES]: è®°å¿†ä¸æ‰§è¡Œæ’ä»¶è·¯å¾„æ ---
modules:
  # [EMBEDDING]: æ„Ÿæ€§æ ¸å¿ƒï¼ˆå‘é‡æ¨¡å‹ï¼‰è·¯å¾„ã€‚
  # æ¨èä½¿ç”¨ BGE ç³»åˆ—ä¸­æ–‡å°æ¨¡å‹ï¼Œè¿è¡Œåœ¨ CPU ä¸Šä»¥èŠ‚çº¦æ˜¾å­˜æã€‚
  embedding_model: "models/embeddings/bge-small-zh-v1.5"
  
  # [VECTOR_DB]: å‘é‡æ•°æ®åº“ï¼ˆæµ·é©¬ä½“ï¼‰å­˜å‚¨ä½ç½®ã€‚
  vector_db_path: "data/vector_db"
  
  # [WORKSPACE]: å…·èº«æ²™ç®±ï¼ˆæ¼”åŒ–å®éªŒå®¤ï¼‰æ ¹ç›®å½•ã€‚
  # æ‰€æœ‰ Darwin-Coder ç”Ÿæˆçš„ä»£ç å‡å—é™åœ¨æ­¤è¿è¡Œæã€‚
  workspace_root: "workspace"

# --- [LEARNING]: è‡ªè¿›åŒ–åŠ¨åŠ›å‚æ•°æ ---
learning:
  idle_threshold: 180   # æŒ‚æœºè‡ªåŠ¨è¿›åŒ–é˜ˆå€¼ï¼ˆç§’ï¼‰ã€‚å¤§å¤§é—²ç½®é”®ç›˜ 3 åˆ†é’Ÿåï¼ŒHanasuki å¼€å§‹è‡ªç ”æ
  max_retries: 2        # é€»è¾‘é“¾æ¡æå–å¤±è´¥åçš„æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œé˜²æ­¢è¿›å…¥é€»è¾‘æ­»å¾ªç¯æ